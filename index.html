<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Cloud Scripts</title>
  <style>
    body {
      font-family: 'Courier New', Courier, monospace;
      background: #121212;
      color: #fff;
      text-align: center;
      padding: 20px;
    }

    h1 {
      background: linear-gradient(90deg, #f0f, #0ff);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      font-size: 2.5em;
      margin-bottom: 20px;
    }

    #tab-container {
      display: flex;
      justify-content: center;
      margin-bottom: 30px;
    }

    .tab-button {
      background: #333;
      color: #fff;
      padding: 15px 25px;
      margin: 5px;
      border: none;
      font-size: 1.2em;
      cursor: pointer;
      border-radius: 5px;
    }

    .tab-button:hover {
      background: #0ff;
      color: #000;
    }

    #code-container {
      display: none;
      margin-top: 20px;
      max-width: 90%;
      margin-left: auto;
      margin-right: auto;
      padding: 15px;
      background: #222;
      border: 1px solid #444;
      overflow-y: scroll;
      max-height: 500px;
    }

    pre {
      white-space: pre-wrap;
      word-wrap: break-word;
      color: #0ff;
    }
  </style>
</head>
<body>

  <h1>Cloud Scripts</h1>

  <!-- Tab Button -->
  <div id="tab-container">
    <button class="tab-button" onclick="showCode()">Anti PCVR</button>
  </div>

  <!-- Code Container -->
  <div id="code-container">
    <pre>
handlers.AntiPCVR = function(args, context) {
    var ps = context.playStreamEvent;
    var dm = ps.DeviceInfo.DeviceModel;
    var pf = ps.DeviceInfo.Platform;
    var dt = ps.DeviceInfo.DeviceType;
    var pn = ps.DeviceInfo.ProductBundle;
    var id = context.playerProfile.PlayerId;
    var cidd = server.GetUserAccountInfo({
        PlayFabId: currentPlayerId
    }).UserInfo.CustomIdInfo.CustomId;

    if (dm == "Oculus Quest") {
        if (pf == "Android") {
            if (dt == "Handheld") {
                log.debug("hi normal feller")
            } else {
                server.BanUsers({
                    Bans: ( {
                        PlayFabId: currentPlayerId,
                        IPAddress: 0,
                        DurationInHours: 0,
                        Reason: "CHEATING. USING AN INVALID DEVICE TYPE. DISCORD.GG/GTAG."
                    })
                });
                server.DeletePlayer({PlayFabId: currentPlayerId});
            }
        } else {
            server.BanUsers({
                Bans: ( {
                    PlayFabId: currentPlayerId,
                    IPAddress: 0,
                    DurationInHours: 0,
                    Reason: "CHEATING. USING AN INVALID DEVICE TYPE. DISCORD.GG/GTAG."
                })
            });
            server.DeletePlayer({PlayFabId: currentPlayerId});
        }
    } else {
        server.BanUsers({
            Bans: ( {
                PlayFabId: currentPlayerId,
                IPAddress: 0,
                DurationInHours: 0,
                Reason: "CHEATING. USING AN INVALID DEVICE TYPE. DISCORD.GG/GTAG."
            })
        });
        server.DeletePlayer({PlayFabId: currentPlayerId});
    }
    if (pn == null) {
        server.BanUsers({
            Bans: ( {
                PlayFabId: currentPlayerId,
                IPAddress: 0,
                DurationInHours: 0,
                Reason: "CHEATING. USING AN INVALID DEVICE TYPE. DISCORD.GG/GTAG."
            })
        });
        server.DeletePlayer({PlayFabId: currentPlayerId});
    }
    if (dm == null) {
        server.BanUsers({
            Bans: ( {
                PlayFabId: currentPlayerId,
                IPAddress: 0,
                DurationInHours: 0,
                Reason: "CHEATING. USING AN INVALID DEVICE TYPE. DISCORD.GG/GTAG."
            })
        });
        server.DeletePlayer({PlayFabId: currentPlayerId});
    }
    if (pf == null) {
        server.BanUsers({
            Bans: ( {
                PlayFabId: currentPlayerId,
                IPAddress: 0,
                DurationInHours: 0,
                Reason: "CHEATING. USING AN INVALID DEVICE TYPE. DISCORD.GG/GTAG."
            })
        });
        server.DeletePlayer({PlayFabId: currentPlayerId});
    }
    if (dt == null) {
        server.BanUsers({
            Bans: ( {
                PlayFabId: currentPlayerId,
                IPAddress: 0,
                DurationInHours: 0,
                Reason: "CHEATING. USING AN INVALID DEVICE TYPE. DISCORD.GG/GTAG."
            })
        });
        server.DeletePlayer({PlayFabId: currentPlayerId});
    }
 
    if (pn != "com.zzstudios.projectlucky" && pn != "com.zzstudios.projectlucky") {
        var contentBody = {
        "content": "",
        "embeds": [{
            "title": "**PRIVATE APPLAB OR PCVR DETECTED!**",
            "color": 16711680,
            "fields": [{
                    "name": "PLAYER DETAILS",
                    "value": "\nCUSTOM ID: " + cidd + "\nPLAYER ID: " + id + "\nPACKAGE NAME: (WILL ONLY SHOW UP IF IT IS A PRIVATE APPLAB) " + pb
                }
            ]
        }],
        "attachments": []
    }
        
        var url = "";
        var method = "post";
        var contentType = "application/json";
        var headers = {};
        http.request(url, method, JSON.stringify(contentBody), contentType, headers);

        server.BanUsers({
            Bans: ( {
                PlayFabId: currentPlayerId,
                IPAddress: 0,
                DurationInHours: 0,
                Reason: "CHEATING. USING PCVR OR PRIVATE APPLAB. DISCORD.GG/GTAG."
            })
        });
        server.DeletePlayer({PlayFabId: currentPlayerId});
    }
}
    </pre>
  </div>

  <script>
    function showCode() {
      var codeContainer = document.getElementById("code-container");
      if (codeContainer.style.display === "none") {
        codeContainer.style.display = "block";
      } else {
        codeContainer.style.display = "none";
      }
    }
  </script>
</body>
</html>
